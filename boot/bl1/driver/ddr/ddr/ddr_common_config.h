#ifndef __DDR_COMMON_CONFIG__
#define __DDR_COMMON_CONFIG__
#include "cmn.h"
/* common  config */
#define CA_ODT_EN                       0
#define CA_DRV_EN                       1
#define WR_ODT_EN                       1
#define WR_DRV_EN                       1
#define DDRPHY_ZQC_CONFIG               1
#define LPDDR4_RETRAIN                  0 //32 bytes mem cant use

#ifndef  NOT_USE_DDR_DFS
#define LPDDR4_DFS_CONFIG               0
#else
#define LPDDR4_DFS_CONFIG               0
#endif

#define D_BL16_X32                      0//for D_LP4_T12_FINAL_PINMUX_K
#define D_DDR4_X8                       1
#define D_DDR_PINMUX                    1
#define D_DDR4_T12_FINAL_PINMUX_L       1
#define MODE_2T                         1

//DDR3
#define DDR3_RDEYE_VREFDQ_MIN			0x30
#define DDR3_RDEYE_VREFDQ_MAX			0x60

//DDR4 RD(50%-93%) ODT
#define DDR4_RDEYE_ODT_VREFDQ_MIN		0x50
#define DDR4_RDEYE_ODT_VREFDQ_MAX		0x60
//DDR4 RD(50%) NO ODT
#define DDR4_RDEYE_VREFDQ_MIN			0x40
#define DDR4_RDEYE_VREFDQ_MAX			0x40

//DDR4 WR(60%-80%) ODT
#define DDR4_WREYE_ODT_VREFDQ_MIN		0x00//MR6 60%
#define DDR4_WREYE_ODT_VREFDQ_MAX		0x1F//MR6 80%
//DDR4 WR(50%) NO ODT
#define DDR4_WREYE_VREFDQ_MIN			0x00//MR6
#define DDR4_WREYE_VREFDQ_MAX			0x00//MR6

#define LPDDR4_CAEYE_VREFCA_MIN         0x0
#define LPDDR4_CAEYE_VREFCA_MAX         0x72

#define LPDDR4_RDEYE_ODT_VREFDQ_MIN     0x10
#define LPDDR4_RDEYE_ODT_VREFDQ_MAX     0x30

#define LPDDR4_WREYE_ODT_VREFDQ_MIN     0x10
#define LPDDR4_WREYE_ODT_VREFDQ_MAX     0x30

/* LPDDR4 pinmux K*/
#define D_LP4_T12_FINAL_PINMUX_K        0

// ### SIPEED EDIT ###
#define IS_LPDDR4_DUAL_RANK(type) (((type) & 0x1000) && ((((type) & 0x300) >> 8) == 2))
// ### SIPEED EDIT END ###

//#define DDR_ENV_EDA
//#define DDR_ENV_ATE
//#define AX_DDR_DEBUG
//#define DDR_BIST_EN
#ifdef DDR_BIST_EN
//#define DDRPHY_RD_FIFO_EN_TUNING
//#define DDRPHY_DQS_GATE_TRAINING
#endif
//#define DDR_OFFLINE_SCAN
#define DDR_DFS_MAX                     2
#define RANK_MAX                        2

#if defined (DDR_ENV_ATE) || defined (DDR_ENV_EDA)
#define DDR_DUMMY_REG_SW0		(0x2100B0)
#define DDR_DUMMY_REG_SW1		(0x2100B4)
#endif

typedef enum
{
	DDR_CLK_1600 = 1600,
	DDR_CLK_1866 = 1866,
	DDR_CLK_2133 = 2133,
	DDR_CLK_2400 = 2400,
	DDR_CLK_2666 = 2666,
	DDR_CLK_2800 = 2800,
	DDR_CLK_3200 = 3200,
	DDR_CLK_3400 = 3400,
	DDR_CLK_3733 = 3733
}DDR_FREQ;

#ifdef DDR_BIST_EN
typedef enum DDRPHY_TYPE
{
	DDRPHY_0=0,
	DDRPHY_1,
	DDRPHY_ALL
}DDRPHY_TYPE_E;

typedef enum TRAIN_TYPE
{
	TRAIN_CADSK_INDEX=4,
	TRAIN_CAEYE_INDEX=5,
	TRAIN_GATE_INDEX=6,
	TRAIN_RDDSK_INDEX=7,
	TRAIN_RDEYE_INDEX=8,
	TRAIN_WRLVL_INDEX=9,
	TRAIN_WRDSK_INDEX=10,
	TRAIN_WREYE_INDEX=11,
	TRAIN_ALL_INDEX
}TRAIN_TYPE_E;

enum BIST_DATA_PATTERN_MODE
{
	USER_DATA_PATTERN=0,
	SIPI_DATA_PATTERN,
	LFSR_DATA_PATTERN
};

enum BIST_MODE
{
	BIST_WRITE=0,
	BIST_READ,
	BIST_ALLWRC,
	BIST_ONEWRC
};

//USER PATTERN
#define	BIST_DATA_00_PATTERN		0xFFFFFFFF
#define	BIST_DATA_01_PATTERN		0x00000000
#define	BIST_DATA_02_PATTERN		0xFFFFFFFF
#define	BIST_DATA_03_PATTERN		0x00000000
#define	BIST_DATA_04_PATTERN		0x00000000
#define	BIST_DATA_05_PATTERN		0xFFFFFFFF
#define	BIST_DATA_06_PATTERN		0x00000000
#define	BIST_DATA_07_PATTERN		0xFFFFFFFF
#define	BIST_DATA_08_PATTERN		0x00000000
#define	BIST_DATA_09_PATTERN		0x00000000
#define	BIST_DATA_10_PATTERN		0xFFFFFFFF
#define	BIST_DATA_11_PATTERN		0xFFFFFFFF
#define	BIST_DATA_12_PATTERN		0xFFFFFFFF
#define	BIST_DATA_13_PATTERN		0xFFFFFFFF
#define	BIST_DATA_14_PATTERN		0x00000000
#define	BIST_DATA_15_PATTERN		0x00000000
#define	BIST_DATA_16_PATTERN		0xFFFFFFFF
#define	BIST_DATA_17_PATTERN		0xFFFFFFFF
#define	BIST_DATA_18_PATTERN		0xFFFFFFFF
#define	BIST_DATA_19_PATTERN		0xFFFFFFFF
#define	BIST_DATA_20_PATTERN		0x00000000
#define	BIST_DATA_21_PATTERN		0x00000000
#define	BIST_DATA_22_PATTERN		0x00000000
#define	BIST_DATA_23_PATTERN		0x00000000
#define	BIST_DATA_24_PATTERN		0x00000000
#define	BIST_DATA_25_PATTERN		0x00000000
#define	BIST_DATA_26_PATTERN		0x00000000
#define	BIST_DATA_27_PATTERN		0x00000000
#define	BIST_DATA_28_PATTERN		0xFFFFFFFF
#define	BIST_DATA_29_PATTERN		0xFFFFFFFF
#define	BIST_DATA_30_PATTERN		0xFFFFFFFF
#define	BIST_DATA_31_PATTERN		0xFFFFFFFF

//SIPI PATTERN
#define	BIST_SIPI_DATA_00			0x38ccccaa
#define	BIST_SIPI_DATA_01			0xe1e1e38e
#define	BIST_SIPI_DATA_02			0x111249e1
#define	BIST_SIPI_DATA_03			0xdb084211
#define	BIST_SIPI_DATA_04			0xdef77776
#define	BIST_SIPI_DATA_05			0x3333557b
#define	BIST_SIPI_DATA_06			0x1e1c71c7
#define	BIST_SIPI_DATA_07			0xedb61e1e
#define	BIST_SIPI_DATA_08			0xf7bdeeee
#define	BIST_SIPI_DATA_09			0x08888924
#define	BIST_SIPI_DATA_10			0x00008421
#define	BIST_SIPI_DATA_11			0x00000000
#define	BIST_SIPI_DATA_12			0x00000000
#define	BIST_SIPI_DATA_13			0x00000000
#define	BIST_SIPI_DATA_14			0x00000000
#define	BIST_SIPI_DATA_15			0x00000000
#define	BIST_SIPI_BIT_PATTERN_0		0x55555554
#define	BIST_SIPI_BIT_PATTERN_1		0x55555554

//LFSR PATTERN
#define	BIST_DATA_LFSR_SEED_L0		0x12345678
#define	BIST_DATA_LFSR_SEED_L1		0x89abcdef
#define	BIST_DATA_LFSR_SEED_H0		0x8abce529
#define	BIST_DATA_LFSR_SEED_H1		0xfbed20ec
#endif

typedef enum
{
	RF_DATA_WIDTH_X16	= 0,
	RF_DATA_WIDTH_X32	= 1,
	RF_DATA_WIDTH_X64	= 2,
	RF_DATA_WIDTH_X8	= 3
}RF_DATA_WIDTH_E;

typedef enum
{
	RF_DBURST_LENGTH_8	= 3,
	RF_DBURST_LENGTH_16	= 4
}RF_DBURST_LENGTH_E;

typedef enum
{
	RF_CS_MODE_CS1_CS0	= 0,
	RF_CS_MODE_CS0_CS0	= 1,
	RF_CS_MODE_CS1_CS1	= 2,
	RF_CS_MODE_CS0_CS1	= 3
}RF_CS_MODE_E;

typedef enum
{
	RF_BANK_MODE_4	= 0,
	RF_BANK_MODE_8	= 1,
	RF_BANK_MODE_16	= 2,
	RF_BANK_MODE_32	= 3
}RF_BANK_MODE_E;

typedef enum
{
	RF_CS_POSITION_BA_CS_COL	= 0,
	RF_CS_POSITION_ADDR27		= 1,
	RF_CS_POSITION_ADDR28		= 2,
	RF_CS_POSITION_ADDR29		= 3,
	RF_CS_POSITION_ADDR30		= 4,
	RF_CS_POSITION_ADDR31		= 5,
	RF_CS_POSITION_ADDR32		= 6,
	RF_CS_POSITION_ADDR33		= 7
}RF_CS_POSITION_E;

typedef enum
{
	RF_ROW_MODE_14	= 0,
	RF_ROW_MODE_15	= 1,
	RF_ROW_MODE_16	= 2,
	RF_ROW_MODE_17	= 3,
	RF_ROW_MODE_18	= 4,
	RF_ROW_MODE_19	= 5
}RF_ROW_MODE_E;

typedef enum
{
	RF_COLUMN_MODE_8	= 0,
	RF_COLUMN_MODE_9	= 1,
	RF_COLUMN_MODE_10	= 2,
	RF_COLUMN_MODE_11	= 3,
	RF_COLUMN_MODE_12	= 4
}RF_COLUMN_MODE_E;

typedef enum
{
	DDR_SINGLE_CHANNEL	= 1,
	DDR_DUAL_CHANNEL	= 2,
	DDR_QUAD_CHANNEL	= 3
}DDR_DATA_CHANNEL;

typedef enum
{
	DDR_CAPACITY_2GBIT		= 0,
	DDR_CAPACITY_4GBIT		= 1,
	DDR_CAPACITY_8GBIT		= 2,
	DDR_CAPACITY_16GBIT		= 3,
	DDR_CAPACITY_32GBIT		= 4
}DDR_CAPACITY;

typedef enum
{
	DDR_1CS	= 1,
	DDR_2CS	= 2,
}DDR_CS_NUMS;


#define LP4_1CS_1CHAN_2GBIT_X16	(RF_DATA_WIDTH_X16 << 24 | RF_DBURST_LENGTH_16 << 20 | RF_CS_MODE_CS0_CS0 << 16 |\
					RF_BANK_MODE_8 << 12 | RF_CS_POSITION_ADDR28 << 8 | RF_ROW_MODE_14 << 4 | RF_COLUMN_MODE_10)
#define LP4_1CS_1CHAN_4GBIT_X16	(RF_DATA_WIDTH_X16 << 24 | RF_DBURST_LENGTH_16 << 20 | RF_CS_MODE_CS0_CS0 << 16 |\
					RF_BANK_MODE_8 << 12 | RF_CS_POSITION_ADDR29 << 8 | RF_ROW_MODE_15 << 4 | RF_COLUMN_MODE_10)
#define LP4_1CS_1CHAN_8GBIT_X16	(RF_DATA_WIDTH_X16 << 24 | RF_DBURST_LENGTH_16 << 20 | RF_CS_MODE_CS0_CS0 << 16 |\
					RF_BANK_MODE_8 << 12 | RF_CS_POSITION_ADDR30 << 8 | RF_ROW_MODE_16 << 4 | RF_COLUMN_MODE_10)
#define LP4_1CS_2CHAN_4GBIT_X32	(RF_DATA_WIDTH_X32 << 24 | RF_DBURST_LENGTH_16 << 20 | RF_CS_MODE_CS0_CS0 << 16 |\
					RF_BANK_MODE_8 << 12 | RF_CS_POSITION_ADDR29 << 8 | RF_ROW_MODE_14 << 4 | RF_COLUMN_MODE_10)
#define LP4_1CS_2CHAN_8GBIT_X32	(RF_DATA_WIDTH_X32 << 24 | RF_DBURST_LENGTH_16 << 20 | RF_CS_MODE_CS0_CS0 << 16 |\
					RF_BANK_MODE_8 << 12 | RF_CS_POSITION_ADDR30 << 8 | RF_ROW_MODE_15 << 4 | RF_COLUMN_MODE_10)
#define LP4_1CS_2CHAN_16GBIT_X32	(RF_DATA_WIDTH_X32 << 24 | RF_DBURST_LENGTH_16 << 20 | RF_CS_MODE_CS0_CS0 << 16 |\
					RF_BANK_MODE_8 << 12 | RF_CS_POSITION_ADDR31 << 8 | RF_ROW_MODE_16 << 4 | RF_COLUMN_MODE_10)
#define LP4_1CS_2CHAN_32GBIT_X32	(RF_DATA_WIDTH_X32 << 24 | RF_DBURST_LENGTH_16 << 20 | RF_CS_MODE_CS0_CS0 << 16 |\
					RF_BANK_MODE_8 << 12 | RF_CS_POSITION_ADDR32 << 8 | RF_ROW_MODE_17 << 4 | RF_COLUMN_MODE_10)
#define LP4_2CS_2CHAN_8GBIT_X32	(RF_DATA_WIDTH_X32 << 24 | RF_DBURST_LENGTH_16 << 20 | RF_CS_MODE_CS1_CS0 << 16 |\
					RF_BANK_MODE_8 << 12 | RF_CS_POSITION_ADDR29 << 8 | RF_ROW_MODE_14 << 4 | RF_COLUMN_MODE_10)
#define LP4_2CS_2CHAN_32GBIT_X32	(RF_DATA_WIDTH_X32 << 24 | RF_DBURST_LENGTH_16 << 20 | RF_CS_MODE_CS1_CS0 << 16 |\
					RF_BANK_MODE_8 << 12 | RF_CS_POSITION_ADDR31 << 8 | RF_ROW_MODE_16 << 4 | RF_COLUMN_MODE_10)

struct ddr_dfs_vref_t {
	u16 freq;
	u8 dram_VREF_CA[RANK_MAX];
	u8 dram_VREF_DQ[RANK_MAX];
	u8 rf_io_vrefi_adj_PHY_A;
	u8 rf_io_vrefi_adj_PHY_B;
};

#endif